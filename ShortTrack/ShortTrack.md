# ArduRobot.ShortTrack

Скетч для соревнования Шорт-трек

*Arduino + Adafruit motor shield + HC-SR04*

***

*  **&copy; Starinin Andrey (AnSt), 2018**
*  **[MIT License](LICENSE)**
*  **Версия: 0.1 (Февраль 2018)**
*  **---**
*  **Ultrasonic | [MIT License](https://github.com/ErickSimoes/Ultrasonic/blob/master/LICENSE) | Copyright &copy; 2017 Erick Simões**
*  **AFMotor | Информации о лицензии нет**


***

## Аппаратная часть
* Adafruit motor shield
	+ [Adafruit motor shield](https://www.adafruit.com/product/81#Learn).
	+ [Adafruit motor shield](https://learn.adafruit.com/adafruit-motor-shield)
	+ [Adafruit-Motor-Shield-library](https://github.com/adafruit/Adafruit-Motor-Shield-library)
	+ [Описание на русском](http://zelectro.cc/Adafruit_motor_shield)
* HC-SR04
	+ [Ultrasonic](https://github.com/ErickSimoes/Ultrasonic)


## Используемые библиотеки
* [AFMotor.h](Library/AFMotor.zip)
* [Ultrasonic.h](Library/Ultrasonic.zip)

## Подробное описание
### Функции
* **SensorRead()** - Считывание значений датчиков. Параметров нет. Возвращаемых значений нет
* **M_Stop()** - Остановка двигателей. Параметров нет. Возвращаемых значений нет
* **Forward(*speed*)** - Движение вперёд. Параметры: *speed* - значение скорости. Диапазон от 0 до 255. Скорость задаётся одинаковая для двух двигателей. Возвращаемых значений нет
* **Backward(*speed*)** - Движение назад. Параметры: *speed* - значение скорости. Диапазон от 0 до 255. Скорость задаётся одинаковая для двух двигателей. Возвращаемых значений нет
* **Left_Stop(*speed*)** - Поворот НАЛЕВО с блокировкой левого колеса. Параметры: ***speed*** - значение скорости. Диапазон от 0 до 255. Скорость задаётся только для одного двигателя. Возвращаемых значений нет
* **Right_Stop(*speed*)** - Поворот НАПРАВО с блокировкой правого колеса. Параметры: ***speed*** - значение скорости. Диапазон от 0 до 255. Скорость задаётся только для одного двигателя. Возвращаемых значений нет

### Переменные
* **PinIR_left** - номер пина, к которому подключен левый ИК-датчик
* **PinIR_center** - номер пина, к которому подключен центральный ИК-датчик
* **PinIR_right** - номер пина, к которому подключен правый ИК-датчик
* **IR_left** - значение левого ИК-датчика
* **IR_center** - - значение центрального ИК-датчика
* **IR_right** - значение правого ИК-датчика
* **sonar** - УЗ-дальномер
* **dist** - значение дистанции
* **M1** - левый мотор
* **M2** - правый мотор

### Константы
* **DIST** - минимальная дистанция для остановки робота (дистанция до другого робота)
* **BLACK** - минимальное значение для чёрного цвета
* **WHITE** - максимальное значение для белого цвета

### Функции из подключенных библиотек
* **setSpeed(*speed*)** - установка скорости вращения двигателя, ***speed*** - значение скорости, диапазон от 0 до 255
* **run(*drive*)** - выбор направления вращения двигателя, ***drive*** - направление вращения:
  + **RELEASE** - остановка двигателей
  + **FORWARD** - вращение вперёд
  + **BACKWARD** - вращение назад, в обратную сторону